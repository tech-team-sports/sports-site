import{g as I,i as B,j as F,e as R}from"./BSoKGsGp.js";function q(x){let{swiper:e,extendParams:V,on:u,emit:d}=x;const i=I(),b=B();e.keyboard={enabled:!1},V({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}});function k(r){if(!e.enabled)return;const{rtlTranslate:p}=e;let a=r;a.originalEvent&&(a=a.originalEvent);const s=a.keyCode||a.charCode,c=e.params.keyboard.pageUpDown,y=c&&s===33,f=c&&s===34,n=s===37,m=s===39,L=s===38,S=s===40;if(!e.allowSlideNext&&(e.isHorizontal()&&m||e.isVertical()&&S||f)||!e.allowSlidePrev&&(e.isHorizontal()&&n||e.isVertical()&&L||y))return!1;if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey)&&!(i.activeElement&&i.activeElement.nodeName&&(i.activeElement.nodeName.toLowerCase()==="input"||i.activeElement.nodeName.toLowerCase()==="textarea"))){if(e.params.keyboard.onlyInViewport&&(y||f||n||m||L||S)){let N=!1;if(F(e.el,`.${e.params.slideClass}, swiper-slide`).length>0&&F(e.el,`.${e.params.slideActiveClass}`).length===0)return;const g=e.el,A=g.clientWidth,E=g.clientHeight,h=b.innerWidth,v=b.innerHeight,o=R(g);p&&(o.left-=g.scrollLeft);const C=[[o.left,o.top],[o.left+A,o.top],[o.left,o.top+E],[o.left+A,o.top+E]];for(let O=0;O<C.length;O+=1){const T=C[O];if(T[0]>=0&&T[0]<=h&&T[1]>=0&&T[1]<=v){if(T[0]===0&&T[1]===0)continue;N=!0}}if(!N)return}e.isHorizontal()?((y||f||n||m)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),((f||m)&&!p||(y||n)&&p)&&e.slideNext(),((y||n)&&!p||(f||m)&&p)&&e.slidePrev()):((y||f||L||S)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),(f||S)&&e.slideNext(),(y||L)&&e.slidePrev()),d("keyPress",s)}}function P(){e.keyboard.enabled||(i.addEventListener("keydown",k),e.keyboard.enabled=!0)}function D(){e.keyboard.enabled&&(i.removeEventListener("keydown",k),e.keyboard.enabled=!1)}u("init",()=>{e.params.keyboard.enabled&&P()}),u("destroy",()=>{e.keyboard.enabled&&D()}),Object.assign(e.keyboard,{enable:P,disable:D})}function z(x){let{swiper:e,extendParams:V,on:u,emit:d,params:i}=x;e.autoplay={running:!1,paused:!1,timeLeft:0},V({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let b,k,P=i&&i.autoplay?i.autoplay.delay:3e3,D=i&&i.autoplay?i.autoplay.delay:3e3,r,p=new Date().getTime(),a,s,c,y,f,n,m;function L(t){!e||e.destroyed||!e.wrapperEl||t.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",L),!(m||t.detail&&t.detail.bySwiperTouchMove)&&v())}const S=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?a=!0:a&&(D=r,a=!1);const t=e.autoplay.paused?r:p+D-new Date().getTime();e.autoplay.timeLeft=t,d("autoplayTimeLeft",t,t/P),k=requestAnimationFrame(()=>{S()})},N=()=>{let t;return e.virtual&&e.params.virtual.enabled?t=e.slides.find(l=>l.classList.contains("swiper-slide-active")):t=e.slides[e.activeIndex],t?parseInt(t.getAttribute("data-swiper-autoplay"),10):void 0},g=t=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(k),S();let w=typeof t>"u"?e.params.autoplay.delay:t;P=e.params.autoplay.delay,D=e.params.autoplay.delay;const l=N();!Number.isNaN(l)&&l>0&&typeof t>"u"&&(w=l,P=l,D=l),r=w;const M=e.params.speed,H=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(M,!0,!0),d("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,M,!0,!0),d("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(M,!0,!0),d("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,M,!0,!0),d("autoplay")),e.params.cssMode&&(p=new Date().getTime(),requestAnimationFrame(()=>{g()})))};return w>0?(clearTimeout(b),b=setTimeout(()=>{H()},w)):requestAnimationFrame(()=>{H()}),w},A=()=>{p=new Date().getTime(),e.autoplay.running=!0,g(),d("autoplayStart")},E=()=>{e.autoplay.running=!1,clearTimeout(b),cancelAnimationFrame(k),d("autoplayStop")},h=(t,w)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(b),t||(n=!0);const l=()=>{d("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",L):v()};if(e.autoplay.paused=!0,w){f&&(r=e.params.autoplay.delay),f=!1,l();return}r=(r||e.params.autoplay.delay)-(new Date().getTime()-p),!(e.isEnd&&r<0&&!e.params.loop)&&(r<0&&(r=0),l())},v=()=>{e.isEnd&&r<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(p=new Date().getTime(),n?(n=!1,g(r)):g(),e.autoplay.paused=!1,d("autoplayResume"))},o=()=>{if(e.destroyed||!e.autoplay.running)return;const t=I();t.visibilityState==="hidden"&&(n=!0,h(!0)),t.visibilityState==="visible"&&v()},C=t=>{t.pointerType==="mouse"&&(n=!0,m=!0,!(e.animating||e.autoplay.paused)&&h(!0))},O=t=>{t.pointerType==="mouse"&&(m=!1,e.autoplay.paused&&v())},T=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",C),e.el.addEventListener("pointerleave",O))},K=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",C),e.el.removeEventListener("pointerleave",O))},U=()=>{I().addEventListener("visibilitychange",o)},W=()=>{I().removeEventListener("visibilitychange",o)};u("init",()=>{e.params.autoplay.enabled&&(T(),U(),A())}),u("destroy",()=>{K(),W(),e.autoplay.running&&E()}),u("_freeModeStaticRelease",()=>{(c||n)&&v()}),u("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?E():h(!0,!0)}),u("beforeTransitionStart",(t,w,l)=>{e.destroyed||!e.autoplay.running||(l||!e.params.autoplay.disableOnInteraction?h(!0,!0):E())}),u("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){E();return}s=!0,c=!1,n=!1,y=setTimeout(()=>{n=!0,c=!0,h(!0)},200)}}),u("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!s)){if(clearTimeout(y),clearTimeout(b),e.params.autoplay.disableOnInteraction){c=!1,s=!1;return}c&&e.params.cssMode&&v(),c=!1,s=!1}}),u("slideChange",()=>{e.destroyed||!e.autoplay.running||(f=!0)}),Object.assign(e.autoplay,{start:A,stop:E,pause:h,resume:v})}export{z as A,q as K};
