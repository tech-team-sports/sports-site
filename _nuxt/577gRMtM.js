import{_ as f,c as s,o as r,s as i,a as l,t as _,r as u,D as y,u as a,F as p,p as v,b as N}from"./n7hfHV_E.js";const k={class:"item"},b=["src","alt"],I=["href"],$={__name:"NewsItem",props:{article:Object},setup(e){return(c,n)=>(r(),s("li",k,[e.article.urlToImage?(r(),s("img",{key:0,src:e.article.urlToImage,alt:e.article.title},null,8,b)):i("",!0),l("h3",null,_(e.article.title),1),l("h4",null,"公開日: "+_(new Date(e.article.publishedAt).toLocaleDateString()),1),l("a",{href:e.article.url,target:"_blank"},"Read more",8,I)]))}},x=f($,[["__scopeId","data-v-7dc5edf4"]]);function E(e){const c=u({articles:[]}),n=u(!0),o=u("");return y(()=>{fetch(`https://newsapi.org/v2/everything?q=${e}&apiKey=53fb2956cf034545947be49cd3f8e1db`).then(t=>{if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return t.json()}).then(t=>{c.value=t}).catch(t=>{console.error("Fetch error",t),o.value="ニュースの取得に失敗しました。"}).finally(()=>{n.value=!1})}),{news:c,loading:n,errorMessage:o}}const L={class:"container"},S={key:0},A={key:1,class:"error"},D={class:"items"},T={key:0,class:"item"},q={key:1},B={__name:"NewsList",props:{query:String},setup(e){const c=e,n=u(10),{news:o,loading:d,errorMessage:t}=E(c.query);return(F,h)=>{var m;return r(),s("div",L,[h[0]||(h[0]=l("h2",null,"NEWS",-1)),a(d)?(r(),s("p",S,"Loading...")):i("",!0),a(t)?(r(),s("p",A,_(a(t)),1)):i("",!0),l("div",D,[(m=a(o).articles)!=null&&m.length?(r(),s("ul",T,[(r(!0),s(p,null,v(a(o).articles.slice(0,n.value),(g,w)=>(r(),s("li",{key:w},[N(x,{article:g},null,8,["article"])]))),128))])):a(d)?i("",!0):(r(),s("p",q,"No news available."))])])}}},M=f(B,[["__scopeId","data-v-e9a11bd7"]]);export{M as N};
